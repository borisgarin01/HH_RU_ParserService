using FluentMigrator;

namespace Data.Migrations;

[Migration(0, "Initial migration")]
public sealed class InitialMigration : Migration
{
    public override void Up()
    {
        Create.Table("Addresses")
            .WithColumn("Id")
            .AsInt64()
            .PrimaryKey()
            .Unique()
            .WithColumn("City")
            .AsString(127)
            .Nullable()
            .WithColumn("Street")
            .AsString(127)
            .Nullable()
            .WithColumn("Building")
            .AsString(31)
            .Nullable()
            .WithColumn("Raw")
            .AsString(255)
            .Nullable();

        Create.Table("Areas")
            .WithColumn("Id")
            .AsString(127)
            .NotNullable()
            .PrimaryKey()
            .Unique()
            .WithColumn("Name")
            .AsString(127)
            .NotNullable()
            .Unique()
            .WithColumn("Url")
            .AsString(255)
            .NotNullable()
            .Unique();

        Create.Table("Brandings")
            .WithColumn("Id")
            .AsString(127)
            .NotNullable()
            .PrimaryKey()
            .Unique()
            .WithColumn("Type")
            .AsString(63)
            .NotNullable()
            .Unique()
            .WithColumn("Tariff")
            .AsString(63)
            .NotNullable()
            .Unique();

        Create.Table("Employers")
            .WithColumn("Id")
            .AsInt64()
            .NotNullable()
            .PrimaryKey()
            .Unique()
            .WithColumn("Name")
            .AsString(127)
            .NotNullable()
            .Unique()
            .WithColumn("Url")
            .AsString(255)
            .NotNullable()
            .Unique()
            .WithColumn("AlternateUrl")
            .AsString(255)
            .NotNullable()
            .Unique()
            .WithColumn("VacanciesUrl")
            .AsString(255)
            .NotNullable()
            .Unique();

        Create.Table("Employments")
            .WithColumn("Id")
            .AsString(63)
            .NotNullable()
            .PrimaryKey()
            .Unique()
            .WithColumn("Name")
            .AsString(127)
            .NotNullable()
            .Unique();

        Create.Table("Experiences")
            .WithColumn("Id")
            .AsString(63)
            .NotNullable()
            .PrimaryKey()
            .Unique()
            .WithColumn("Name")
            .AsString(63)
            .NotNullable()
            .Unique();

        Create.Table("LogoUrls")
            .WithColumn("Id")
            .AsString(63)
            .NotNullable()
            .PrimaryKey()
            .Unique()
            .WithColumn("Original")
            .AsString(63)
            .NotNullable()
            .Unique()
            .WithColumn("_90")
            .AsString(63)
            .Nullable()
            .Unique()
            .WithColumn("_240")
            .AsString(63)
            .Nullable()
            .Unique();

        Create.Table("ProfessionalRoles")
            .WithColumn("Id")
            .AsString(63)
            .NotNullable()
            .PrimaryKey()
            .Unique()
            .WithColumn("Name")
            .AsString(255)
            .NotNullable()
            .Unique();

        Create.Table("Salaries")
           .WithColumn("Id")
           .AsInt64()
           .NotNullable()
           .PrimaryKey()
           .Unique()
           .WithColumn("From")
           .AsInt32()
           .Nullable()
           .WithColumn("To")
           .AsInt32()
           .Nullable()
           .WithColumn("Currency")
           .AsString(63)
           .Nullable()
           .WithColumn("Gross")
           .AsBoolean()
           .NotNullable()
           .WithDefaultValue(false);

        Create.Table("Schedules")
           .WithColumn("Id")
           .AsString(31)
           .NotNullable()
           .PrimaryKey()
           .Unique()
           .WithColumn("Name")
           .AsString(63)
           .NotNullable()
           .Unique();

        Create.Table("Snippets")
           .WithColumn("Id")
           .AsInt64()
           .NotNullable()
           .PrimaryKey()
           .Unique()
           .WithColumn("Requirement")
           .AsString()
           .Nullable()
           .Unique()
           .WithColumn("Responsibility")
           .AsString()
           .Nullable()
           .Unique();

        Create.Table("Types")
            .WithColumn("Id")
            .AsString(63)
            .PrimaryKey()
            .NotNullable()
            .Unique()
            .WithColumn("Name")
            .AsString(63)
            .NotNullable()
            .Unique();

        Create.Table("Vacancies")
            .WithColumn("Id")
            .AsString(127)
            .Unique()
            .NotNullable()
            .PrimaryKey()
            .WithColumn("Premium")
            .AsBoolean()
            .NotNullable()
            .WithDefaultValue(false)
            .WithColumn("Name")
            .AsString(255)
            .NotNullable()
            .WithColumn("HasTest")
            .AsBoolean()
            .NotNullable()
            .WithDefaultValue(false)
            .WithColumn("ResponseLetterRequired")
            .AsBoolean()
            .NotNullable()
            .WithDefaultValue(false)
            .WithColumn("AreaId")
            .AsString(127)
            .Nullable()
            .WithColumn("SalaryId")
            .AsInt64()
            .Nullable()
            .WithColumn("TypeId")
            .AsString(63)
            .NotNullable()
            .WithColumn("AddressId")
            .AsInt64()
            .WithColumn("Archived")
            .AsBoolean()
            .NotNullable()
            .WithDefaultValue(false)
            .WithColumn("ApplyAlternateUrl")
            .AsString(127)
            .Nullable()
            .WithColumn("ShowLogoInSearch")
            .AsBoolean()
            .Nullable()
            .WithColumn("Url")
            .AsString(255)
            .NotNullable()
            .WithColumn("AlternateUrl")
            .AsString(255)
            .Nullable()
            .WithColumn("EmployerId")
            .AsInt64()
            .NotNullable()
            .WithColumn("SnippetId")
            .AsInt64()
            .NotNullable()
            .WithColumn("ScheduleId")
            .AsString(127)
            .NotNullable()
            .WithColumn("AcceptTemporary")
            .AsBoolean()
            .NotNullable()
            .WithDefaultValue(false)
            .WithColumn("AcceptIncompleteResumes")
            .AsBoolean()
            .NotNullable()
            .WithDefaultValue(false)
            .WithColumn("ExperienceId")
            .AsString(127)
            .NotNullable()
            .WithColumn("EmploymentId")
            .AsString(127)
            .NotNullable()
            .WithColumn("IsAdvVacancy")
            .AsBoolean()
            .NotNullable()
            .WithDefaultValue(false)
            .WithColumn("BrandingId")
            .AsString(127)
            .NotNullable();
    }

    public override void Down()
    {
        Delete.Table("Vacancies");
        Delete.Table("Types");
        Delete.Table("Snippets");
        Delete.Table("Schedules");
        Delete.Table("Salaries");
        Delete.Table("ProfessionalRoles");
        Delete.Table("LogoUrls");
        Delete.Table("Experiences");
        Delete.Table("Employments");
        Delete.Table("Employers");
        Delete.Table("Brandings");
        Delete.Table("Areas");
        Delete.Table("Addresses");
    }
}
